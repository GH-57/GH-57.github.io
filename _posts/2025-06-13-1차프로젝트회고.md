# ë°±ì—”ë“œ 1ì°¨ í”„ë¡œì íŠ¸ FastAPIì™€ ChatGPTë¡œ 'ë‚˜ë§Œì˜ AI ì ì–¸ ì±—ë´‡' ë§Œë“¤ê¸° ğŸ§ ğŸ™  
ê°œë°œ ê³¼ì • ì´ì •ë¦¬

ì•ˆë…•í•˜ì„¸ìš”!  
6/10~6/13ì¼ 1ì°¨ í”„ë¡œì íŠ¸ë¥¼ í†µí•´, FastAPIì™€ OpenAI APIë¥¼ í™œìš©í•˜ì—¬ **ì‚¬ìš©ìì˜ ê°ì •ì„ ë¶„ì„í•˜ê³  ì ì–¸ ë§ì”€ì„ ì¶”ì²œí•´ì£¼ëŠ” ì›¹ ì±—ë´‡**ì„ ì™„ì„±í–ˆìŠµë‹ˆë‹¤.  
ê¸°íšë¶€í„° ë°°í¬ ì§ì „ê¹Œì§€, ì¢Œì¶©ìš°ëŒí•˜ë©° ê²ªì—ˆë˜ ëª¨ë“  ê°œë°œ ê³¼ì •ì„ ê³µìœ í•©ë‹ˆë‹¤.

---

## ğŸª§ Prologue: ì™œ 'ì ì–¸ ì±—ë´‡'ì´ì—ˆì„ê¹Œ?

> _"ì˜¤ëŠ˜ ë‚´ ê¸°ë¶„ì— ë”± ë§ëŠ” ìœ„ë¡œì˜ í•œë§ˆë””ë¥¼ ê±´ë„¤ì£¼ëŠ” ì±—ë´‡ì´ ìˆë‹¤ë©´ ì–´ë–¨ê¹Œ?"_

ì´ ì‘ì€ ì•„ì´ë””ì–´ì—ì„œ í”„ë¡œì íŠ¸ëŠ” ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.  
**ì„±ê²½ì˜ ì ì–¸**ì€ ì§§ì§€ë§Œ ê¹Šì€ ì§€í˜œë¥¼ ë‹´ê³  ìˆì–´, í˜„ëŒ€ì¸ì˜ ë‹¤ì–‘í•œ ê°ì •ì— ì¢‹ì€ ê¸¸ì¡ì´ê°€ ë  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ì´ ì•„ì´ë””ì–´ë¥¼ ë°”íƒ•ìœ¼ë¡œ,
- ë°±ì—”ë“œëŠ” **FastAPI**
- í”„ë¡ íŠ¸ì—”ë“œëŠ” **Vanilla JS**
- AI ë¶„ì„ì€ **OpenAI API**

ë¥¼ í™œìš©í•˜ì—¬ **í’€ìŠ¤íƒ ê°œë°œ ì „ì²´ ì‚¬ì´í´**ì„ ê²½í—˜í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ì‚¼ì•˜ìŠµë‹ˆë‹¤.

---

## ğŸ“… Day 1: ê¸°íšê³¼ ë¼ˆëŒ€ ì„¸ìš°ê¸°

### 1. ìš”êµ¬ì‚¬í•­ ì •ì˜ ë° í™”ë©´ ê¸°íš
- ì‚¬ìš©ì íë¦„: `ë¡œê·¸ì¸ â†’ ê°ì • ì…ë ¥ â†’ ì ì–¸ ì¶”ì²œ â†’ ëŒ€í™” ê¸°ë¡ ë³´ê¸°`
- ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê°„ë‹¨í•œ ì™€ì´ì–´í”„ë ˆì„ ì œì‘
![ì™€ì´ì–´í”„ë ˆì„](/assets/images/First_Project/1ì°¨%20ì™€ì´ì–´í”„ë ˆì„.png)


---

### 2. ë°±ì—”ë“œ í™˜ê²½ ì„¤ì • (FastAPI)

- Python ê°€ìƒí™˜ê²½ ìƒì„± (`venv`)
- FastAPI ë° Uvicorn ì„¤ì¹˜
- CORS ì„¤ì •ìœ¼ë¡œ í”„ë¡ íŠ¸ì™€ì˜ ì›í™œí•œ í†µì‹  ë³´ì¥

```python
# main.py
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI()

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # ê°œë°œ ì¤‘ì—ëŠ” ì „ì²´ í—ˆìš©
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)
```

---

## ğŸ§  Day 2: í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ê³¼ AI ì—°ë™ì˜ ëŠª

### 1. ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬ì¶•
- ì‹¤ì œ DB ëŒ€ì‹  **Python ë”•ì…”ë„ˆë¦¬**ë¡œ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘
- `passlib`ìœ¼ë¡œ ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- `python-jose`ë¡œ JWT í† í° ë°œê¸‰ ë° ì‚¬ìš©ì ì¸ì¦ ì²˜ë¦¬

---

### 2. ChatGPT API ì—°ë™ê¸°: 404, 429 ì—ëŸ¬ì™€ì˜ ì‚¬íˆ¬

#### âŒ ì´ˆê¸° ì‹œë„
- `openai.chat.completions.create()` ì‚¬ìš© â†’ **429 Quota Exceeded**

#### ğŸ§ª ë””ë²„ê¹… ê³¼ì •
- `requests` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì§ì ‘ HTTP ìš”ì²­ ë¶„ì„
- ë‹¤ì–‘í•œ endpoint (`/v1/chat/completions` ë“±) ì‹œë„ â†’ **404 Not Found**

#### âœ… ë¬¸ì œ í•´ê²°
- **í”„ë¡ì‹œ API ì„œë²„**ê°€ OpenAI í¬ë§·ê³¼ ë‹¤ë¦„ì„ íŒŒì•…
- model í‚¤ ì—†ì´ `messages` ë°°ì—´ë§Œ ë³´ë‚´ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •

```python
# main.py - chat_with_ai í•¨ìˆ˜ ì¤‘ ì¼ë¶€
url = "https://dev.wenivops.co.kr/services/openai-api"
headers = {
    "Authorization": f"Bearer {os.getenv('OPENAI_API_KEY')}",
    "Content-Type": "application/json",
    "User-Agent": "Mozilla/5.0"
}
data = [
    {"role": "system", "content": "You are a helpful assistant that classifies emotions."},
    {"role": "user", "content": prompt_for_classification}
]
response = requests.post(url, headers=headers, json=data)
```

---

### 3. AIì˜ ì—­í•  ì¬ì •ì˜: **'ëŒ€í™”'ì—ì„œ 'ë¶„ë¥˜'ë¡œ**

ì´ˆê¸°ì—ëŠ” ììœ  ì‘ë‹µ ë°©ì‹ì´ì—ˆìœ¼ë‚˜,
- ëª©í‘œëŠ” **ì •í•´ì§„ ê°ì •ì— ë”°ë¼ ì ì–¸ì„ ë§¤í•‘í•˜ëŠ” ê²ƒ**
- í”„ë¡¬í”„íŠ¸ë¥¼ `"ë‹¤ìŒ ë¬¸ì¥ì„ 5ê°€ì§€ ê°ì • ì¤‘ í•˜ë‚˜ë¡œ ë¶„ë¥˜í•´ì¤˜"`ë¡œ ì„¤ì •
- ì°½ì˜ì ì¸ ì‘ê°€ ëŒ€ì‹  **ì •í™•í•œ ê°ì • ë¶„ì„ê°€** ì—­í• ë¡œ ì „í™˜

---

## ğŸ’» Day 3: í”„ë¡ íŠ¸ì—”ë“œ ì™„ì„± ë° í†µí•©

### 1. ë™ì ì¸ UI êµ¬í˜„ (Vanilla JS)

- JWT í† í°ì„ `localStorage`ì— ì €ì¥í•´ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€
- í˜ì´ì§€ ë¡œë“œì‹œ ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ í™”ë©´ ì „í™˜

---

### 2. ë¹„ë™ê¸° í†µì‹  (fetch + async/await)

- ë¡œê·¸ì¸: `form-data`
- ì±„íŒ…: `application/json`

```javascript
// script.js - ë¡œê·¸ì¸ ìš”ì²­ ì˜ˆì‹œ
const formData = new FormData();
formData.append('username', email);
formData.append('password', password);

const response = await fetch(`${API_BASE_URL}/login`, {
    method: 'POST',
    body: formData
});
```

---

### 3. ì‚¬ìš©ì ê²½í—˜(UX) ê°œì„ 

- ë©”ì‹œì§€ ì „ì†¡ ì¤‘ input ë¹„í™œì„±í™”
- ìƒˆ ë©”ì‹œì§€ ë„ì°© ì‹œ ìë™ ìŠ¤í¬ë¡¤
- ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì‹œ í¼ ë° ì±„íŒ… ì´ˆê¸°í™”

---
### 4. ê²°ê³¼ë¬¼
![ì ì–¸ì±—ë´‡](/assets/images/First_Project/AI%20ì ì–¸%20ì±—ë´‡%20ì‹œì—°%20ì˜ìƒ.gif)



---

## ğŸ§¾ Epilogue: í”„ë¡œì íŠ¸ë¥¼ ë§ˆì¹˜ë©°

3ì¼ì´ë¼ëŠ” ì§§ì€ ì‹œê°„ ë™ì•ˆ í•˜ë‚˜ì˜ ì™„ì „í•œ í’€ìŠ¤íƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë©° ì •ë§ ë§ì€ ê²ƒì„ ë°°ì› ìŠµë‹ˆë‹¤.  
íŠ¹íˆ ìˆ˜ë§ì€ ì—ëŸ¬ ë©”ì‹œì§€ì™€ ì‹¸ìš°ë©° ì–»ì€ **ë””ë²„ê¹… ê²½í—˜**ì€ í° ìì‚°ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

### âœ… ë°°ìš´ ì 
- ê¸°ëŠ¥ë³´ë‹¤ **ì™„ì„±**ì´ ìš°ì„ !
- ì™„ë²½í•˜ì§€ ì•Šì•„ë„, **ëê¹Œì§€ í•´ë‚´ëŠ” ëˆê¸°**ê°€ ì¤‘ìš”!

### ğŸ“Œ ì•„ì‰¬ìš´ ì  (ë‹¤ìŒ ê°œì„  ê³¼ì œ)
- ë³µí•© ê°ì • ì²˜ë¦¬ ë° ë‹¤ì¤‘ ì¶”ì²œ
- ì‹¤ì œ DB ë„ì… â†’ ë°ì´í„° ì˜êµ¬ ì €ì¥

---

## ğŸ™ ê¸´ ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!

ì´ ê¸€ì´ ë˜ ë‹¤ë¥¸ ë„ì „ì„ ì¤€ë¹„ ì¤‘ì¸ ë¶„ê»˜ ì‘ì€ ìš©ê¸°ê°€ ë˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤.  
> â­ GitHub Repository: [GitHub ë ˆí¬ì§€í† ë¦¬](https://github.com/GH-57/First_Project)
